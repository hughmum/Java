# Java绘图图标体系

![image-20220914171349512](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209141713948.png)

![image-20220914190948820](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209141909278.png)

```java
public class Main extends JFrame{//JFrame对应窗口，是一个画框
    //定义一个面板，是放在画框里的
    public MyPanel mp = null;
    public static void main(String[] args) {
        new Main();
        System.out.println("退出程序");
    }
    public Main() {//构造器
        //初始化面板
        mp = new MyPanel();
        //把面板放入到窗口
        this.add(mp);
        //设置窗口大小
        this.setSize(400, 300);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//当点击x程序就推出
        this.setVisible(true);

    }
}
//定义一个MyPanel, 继承JPanel类，画图形，在面板上
class MyPanel extends JPanel {
    //Graphics画笔
    @Override
    public void paint(Graphics g) {//绘图方法
        super.paint(g);//调用父类方法，完成初始化
        System.out.println("paint调用");
        g.drawOval(10, 10, 100, 100);
        //演示绘制不同的图形.. //画直线 drawLine(int x1,int y1,int x2,int y2)
        //g.drawLine(10, 10, 100, 100);
        //画矩形边框 drawRect(int x, int y, int width, int height)
        //g.drawRect(10, 10, 100, 100);
        //画椭圆边框 drawOval(int x, int y, int width, int height)
        //填充矩形 fillRect(int x, int y, int width, int height)
        //设置画笔的颜色
        // g.setColor(Color.blue);
        // g.fillRect(10, 10, 100, 100);
        //填充椭圆 fillOval(int x, int y, int width, int height)
        // g.setColor(Color.red);
        // g.fillOval(10, 10, 100, 100);
        //画图片 drawImage(Image img, int x, int y, ..)
        //1. 获取图片资源, /bg.png 表示在该项目的根目录去获取 bg.png 图片资源
        // Image image = Toolkit.getDefaultToolkit().getImage(Panel.class.getResource("/bg.png"));
        // g.drawImage(image, 10, 10, 175, 221, this);
        //画字符串 drawString(String str, int x, int y)//写字
        //给画笔设置颜色和字体
        g.setColor(Color.red);
        g.setFont(new Font("隶书", Font.BOLD, 50));
        //这里设置的 100， 100， 是 "北京你好"左下角
        g.drawString("北京你好", 100, 100);
        //设置画笔的字体 setFont(Font font)
        //设置画笔的颜色 setColor(Color c)
    }
}
```

# 绘制坦克游戏区域

tank

```java
package mu.tankgame;

public class Tank {
    private int x;//坦克横坐标
    private  int y;//坦克纵坐标

    public Tank(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public void setX(int x) {
        this.x = x;
    }

    public int getY() {
        return y;
    }

    public void setY(int y) {
        this.y = y;
    }
}

```

自己的坦克

```java
package mu.tankgame;

/**
 * 自己的坦克
 */
public class Hero extends Tank{
    public Hero(int x, int y) {
        super(x, y);
    }
}

```

绘图区域

```java
/**
 * 坦克大战的绘图区域
 */
public class Mypanel extends JPanel {
    //定义我的坦克
    Hero hero = null;
    public Mypanel() {
        hero = new Hero(100, 100);//初始化自己的坦克
    }

    @Override
    public void paint(Graphics g) {
        super.paint(g);
        g.fillRect(0, 0, 1000, 750);
    }
}

```

边框

```java
public class TankGame01 extends JFrame {
    //定义Panel,因为将来的panel是要放在jrame上面去的
    Mypanel mp = null;
    public static void main(String[] args) {
        TankGame01 tankGame01 = new TankGame01();
    }
    public TankGame01() {
        mp = new Mypanel();
        this.add(mp);//把面板，游戏的绘图区域加进去
        this.setSize(1000,750);
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setVisible(true);
    }
}

```

# 绘制坦克

![image-20220918230229624](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209182302201.png)

```java
/**
 * 坦克大战的绘图区域
 */
public class Mypanel extends JPanel {
    //定义我的坦克
    Hero hero = null;
    public Mypanel() {
        hero = new Hero(100, 100);//初始化自己的坦克
    }

    @Override
    public void paint(Graphics g) {
        super.paint(g);
        g.fillRect(0, 0, 1000, 750);

        //画出坦克-封装方法方法
        drawTank(hero.getX(),hero.getY(),g,0,1);
        drawTank(hero.getX() + 60,hero.getY(),g,0,1);
    }
    //编写方法画出坦克

    /**
     *
     * @param x 坦克左上角x坐标
     * @param y 坐上角y坐标
     * @param g 画笔
     * @param direct 坦克方向
     * @param type 坦克类型
     */
    public void drawTank(int x, int y, Graphics g, int direct, int type) {

        //根据不同类型坦克，设置不同颜色
        switch (type) {
            case 0://我们的坦克
                g.setColor(Color.cyan);
                break;
            case 1://敌人的坦克
                g.setColor((Color.yellow));
                break;
        }

        //根据坦克方向，绘制坦克
        switch (direct) {
            case 0://表示向上
                g.fill3DRect(x,y,10,60, false);//画出坦克左边的轮子
                g.fill3DRect(x + 30,y,10,60, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,20,40, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 10,y + 20,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 20,y + 30,x + 20,y);//画出炮筒
                break;
            default:
                System.out.println("暂时没有处理");
        }
    }
}

```



# 小球移动 java的事件控制

```java
package mu.event;

import javax.swing.*;
import java.awt.*;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;

/***
 * 键盘控制上下左右，java的事件控制演示
 */
public class BallMove extends JFrame{
    Mypanel mp = null;

    public static void main(String[] args) {
        BallMove ballMove = new BallMove();
    }
    public BallMove() {
        mp = new Mypanel();
        this.add(mp);
        this.setSize(400,300);
        //JFrame对象可以监听到键盘事件
        this.addKeyListener(mp);//接口的引用可以指向实现了接口的对象
        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        this.setVisible(true);

    }
}

/**
 * KeyListener监听器，键盘事件
 */
class Mypanel extends JPanel implements KeyListener {
    //把做上角坐标设置变量
    int x = 10, y = 10;
    @Override
    public void paint(Graphics g) {
        super.paint(g);
        g.fillOval(x, y, 20, 20);
    }
    //监听有字符输出时，触发
    @Override
    public void keyTyped(KeyEvent e) {

    }
    //单某个键按下，触发
    @Override
    public void keyPressed(KeyEvent e) {
        //System.out.println((char)e.getKeyCode() + "被按下");
        //根据用户按下的键处理小球的移动
        if (e.getKeyCode() == KeyEvent.VK_DOWN) {
            y++;
        } else if (e.getKeyCode() == KeyEvent.VK_UP) {
            y--;
        } else if (e.getKeyCode() == KeyEvent.VK_LEFT) {
            x--;
        } else if (e.getKeyCode() == KeyEvent.VK_RIGHT) {
            x++;
        }
        //让面板重绘一下
        this.repaint();
    }
    //某个键松开触发
    @Override
    public void keyReleased(KeyEvent e) {

    }
}
```

# java事件处理机制

采用委派事件模型

![image-20220919121402474](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209191214911.png)

**深入理解**

![image-20220919122233769](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209191222059.png)

**案例**

```java
/***
 * 键盘控制上下左右，java的事件控制演示
 */
public class BallMove extends JFrame{
    Mypanel mp = null;

    public static void main(String[] args) {
        BallMove ballMove = new BallMove();
    }
    public BallMove() {
        mp = new Mypanel();
        this.add(mp);
        this.setSize(400,300);
        //JFrame对象可以监听到键盘事件
        this.addKeyListener(mp);//接口的引用可以指向实现了接口的对象
        this.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        this.setVisible(true);

    }
}

/**
 * KeyListener监听器，键盘事件
 */
class Mypanel extends JPanel implements KeyListener {
    //把做上角坐标设置变量
    int x = 10, y = 10;
    @Override
    public void paint(Graphics g) {
        super.paint(g);
        g.fillOval(x, y, 20, 20);
    }
    //监听有字符输出时，触发
    @Override
    public void keyTyped(KeyEvent e) {

    }
    //单某个键按下，触发
    @Override
    public void keyPressed(KeyEvent e) {
        //System.out.println((char)e.getKeyCode() + "被按下");
        //根据用户按下的键处理小球的移动
        if (e.getKeyCode() == KeyEvent.VK_DOWN) {
            y++;
        } else if (e.getKeyCode() == KeyEvent.VK_UP) {
            y--;
        } else if (e.getKeyCode() == KeyEvent.VK_LEFT) {
            x--;
        } else if (e.getKeyCode() == KeyEvent.VK_RIGHT) {
            x++;
        }
        //让面板重绘一下
        this.repaint();
    }
    //某个键松开触发
    @Override
    public void keyReleased(KeyEvent e) {

    }
}
```



# 绘制坦克上下左右

```java

    /**
     *
     * @param x 坦克左上角x坐标
     * @param y 坐上角y坐标
     * @param g 画笔
     * @param direct 坦克方向
     * @param type 坦克类型
     */
    public void drawTank(int x, int y, Graphics g, int direct, int type) {

        //根据不同类型坦克，设置不同颜色
        switch (type) {
            case 0://我们的坦克
                g.setColor(Color.cyan);
                break;
            case 1://敌人的坦克
                g.setColor((Color.yellow));
                break;
        }

        //根据坦克方向，绘制坦克
        switch (direct) {
            case 0://表示向上
                g.fill3DRect(x,y,10,60, false);//画出坦克左边的轮子
                g.fill3DRect(x + 30,y,10,60, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,20,40, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 10,y + 20,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 20,y + 30,x + 20,y);//画出炮筒
                break;
            case 1://表示向右
                g.fill3DRect(x,y,60,10, false);//画出坦克左边的轮子
                g.fill3DRect(x,y + 30,60,10, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,40,20, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 20,y + 10,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 30,y + 20,x + 60,y + 20);//画出炮筒
                break;
            case 2://表示向下
                g.fill3DRect(x,y,10,60, false);//画出坦克左边的轮子
                g.fill3DRect(x + 30,y,10,60, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,20,40, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 10,y + 20,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 20,y + 30,x + 20,y + 60);//画出炮筒
                break;
            case 3://表示向左
                g.fill3DRect(x,y,60,10, false);//画出坦克左边的轮子
                g.fill3DRect(x,y + 30,60,10, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,40,20, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 20,y + 10,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 30,y + 20,x,y + 20);//画出炮筒
                break;
            default:
                System.out.println("暂时没有处理");
        }
    }
}
```

# 坦克移动

```JAVA
package mu.tankgame2;

public class Tank {
    private int x;//坦克横坐标
    private  int y;//坦克纵坐标
    private int direct;//坦克方向 0 1 2 3 上左下右
    private int speed = 2;//坦克的速度

    //上右下左移动
    public void moveUp() {
        y -= speed;
    }
    public void moveRight() {
        x += speed;
    }
    public void moveDown() {
        y += speed;
    }
    public void moveLeft() {
        x -= speed;
    }

    public Tank(int x, int y) {
        this.x = x;
        this.y = y;
    }

    public int getX() {
        return x;
    }

    public void setX(int x) {
        this.x = x;
    }

    public int getY() {
        return y;
    }

    public void setY(int y) {
        this.y = y;
    }

    public int getDirect() {
        return direct;
    }

    public void setDirect(int direct) {
        this.direct = direct;
    }

    public int getSpeed() {
        return speed;
    }

    public void setSpeed(int speed) {
        this.speed = speed;
    }
}

```



```java
/**
 * 坦克大战的绘图区域
 */
public class Mypanel extends JPanel implements KeyListener {
    //定义我的坦克
    Hero hero = null;
    public Mypanel() {
        hero = new Hero(100, 100);//初始化自己的坦克
        hero.setSpeed(2);
    }

    @Override
    public void paint(Graphics g) {
        super.paint(g);
        g.fillRect(0, 0, 1000, 750);

        //画出坦克-封装方法方法
        drawTank(hero.getX(),hero.getY(),g,hero.getDirect(),0);
        drawTank(hero.getX() + 60,hero.getY(),g,hero.getDirect(),1);
    }
    //编写方法画出坦克

    /**
     *
     * @param x 坦克左上角x坐标
     * @param y 坐上角y坐标
     * @param g 画笔
     * @param direct 坦克方向
     * @param type 坦克类型
     */
    public void drawTank(int x, int y, Graphics g, int direct, int type) {

        //根据不同类型坦克，设置不同颜色
        switch (type) {
            case 0://我们的坦克
                g.setColor(Color.cyan);
                break;
            case 1://敌人的坦克
                g.setColor((Color.yellow));
                break;
        }

        //根据坦克方向，绘制坦克
        switch (direct) {
            case 0://表示向上
                g.fill3DRect(x,y,10,60, false);//画出坦克左边的轮子
                g.fill3DRect(x + 30,y,10,60, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,20,40, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 10,y + 20,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 20,y + 30,x + 20,y);//画出炮筒
                break;
            case 1://表示向右
                g.fill3DRect(x,y,60,10, false);//画出坦克左边的轮子
                g.fill3DRect(x,y + 30,60,10, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,40,20, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 20,y + 10,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 30,y + 20,x + 60,y + 20);//画出炮筒
                break;
            case 2://表示向下
                g.fill3DRect(x,y,10,60, false);//画出坦克左边的轮子
                g.fill3DRect(x + 30,y,10,60, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,20,40, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 10,y + 20,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 20,y + 30,x + 20,y + 60);//画出炮筒
                break;
            case 3://表示向左
                g.fill3DRect(x,y,60,10, false);//画出坦克左边的轮子
                g.fill3DRect(x,y + 30,60,10, false);//画出坦克右边的轮子
                g.fill3DRect(x + 10,y + 10,40,20, false);//画出中间矩形，坦克盖子
                g.fillOval(x + 20,y + 10,20,20);//画出中间圆形，坦克盖子
                g.drawLine(x + 30,y + 20,x,y + 20);//画出炮筒
                break;
            default:
                System.out.println("暂时没有处理");
        }
    }

    @Override
    public void keyTyped(KeyEvent e) {

    }

    @Override
    public void keyPressed(KeyEvent e) {
        if (e.getKeyCode() == KeyEvent.VK_W) {
            hero.setDirect(0);//方向改变
            //修改坦克坐标
            hero.moveUp();
        } else if (e.getKeyCode() == KeyEvent.VK_D) {
            hero.setDirect(1);//方向改变
            hero.moveRight();
        } else if (e.getKeyCode() == KeyEvent.VK_S) {
            hero.setDirect(2);//方向改变
            hero.moveDown();
        } else if (e.getKeyCode() == KeyEvent.VK_A) {
            hero.setDirect(3);//方向改变
            hero.moveLeft();
        }
        this.repaint();
    }

    @Override
    public void keyReleased(KeyEvent e) {

    }
}
```

### 作业1

![image-20220919144616487](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209191446775.png)

![image-20220919150052360](https://cdn.jsdelivr.net/gh/hughmum/blogImage/img/202209191500445.png)

```java
public class EnemyTank extends Tank{
    public EnemyTank(int x, int y) {
        super(x, y);
    }
}





**
 * 坦克大战的绘图区域
 */
public class Mypanel extends JPanel implements KeyListener {
    //定义我的坦克
    Hero hero = null;
    //定义敌人坦克,保证线程安全，放在vector集合中
    Vector<EnemyTank> enemyTanks = new Vector<>();
    int enemyTankSize = 2;

    public Mypanel() {
        hero = new Hero(100, 100);//初始化自己的坦克
        hero.setSpeed(2);
        //初始化敌人坦克
        for (int i = 0; i < enemyTankSize; i++) {
            EnemyTank enemyTank = new EnemyTank(100 * (i + 1), 0);
            enemyTank.setDirect(2);
            enemyTanks.add(enemyTank);
        }
    }

    @Override
    public void paint(Graphics g) {
        super.paint(g);
        g.fillRect(0, 0, 1000, 750);

        //画出坦克-封装方法方法
        drawTank(hero.getX(), hero.getY(), g, hero.getDirect(), 0);
        //画出敌人坦克,遍历vector
        for (int i = 0; i < enemyTanks.size(); i++) {
            //取出坦克
            EnemyTank enemyTank = enemyTanks.get(i);
            drawTank(enemyTank.getX(), enemyTank.getY(), g,enemyTank.getDirect(),1);
        }
    }
```

